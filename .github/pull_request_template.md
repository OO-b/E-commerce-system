
## [STEP 03 / 04] 이커머스 시스템 분석 및 실행

## PR 설명

e- 커머스 상품 주문서비스를 구현하기 위해 분석 및 분석에 맞게 틀을 짜는 작업을 진행하였습니다.
e커머스 상품 서비스내 기능은 잔액 충전/조회 기능, 상품조회 기능, 주문/결제 기능, 선착순쿠폰 발행기능, 
인기판매 상품조회기능을 구현하고자 하였습니다. 구현하기 위해 시간 흐름에 맞게 확인하고자 시퀀스 다이어 그램을 작성하여
흐름을 파악하고, 이에 필요한 데이터를 정리하기 위하여 ERD를 작성하였으며, 올바른 통신을 위하여 API 명세를 작성하였습니다.
이후, 집중적으로 개발을 시작하기 전 분석한 부분에 대한 틀을 잡기 위해 Mock API를 사용하여 전체적인 틀을 구현하였습니다.

### 🎞️ 작업내용
0️⃣ RoadMap 및 Milestone 작성하여 프로젝트 일정 계획 [로드맵📎](https://github.com/users/OO-b/projects/3)  
1️⃣ 주어진 과제 전체 분석 - 시나리오로 작성하며 이해   
2️⃣ [분석] API 명세 작성 [명세서📎](https://www.notion.so/API-1c6abb7ee95080b4bc50f5c1c065e71f?pvs=4)  
3️⃣ [분석] 시퀀스 다이어그램 작성 (eccaed3c, cee1b738)  
4️⃣ [분석] ERD 작성 (1ea13356)  
5️⃣ [실행] API 틀 작성 (eef3ef1d)  
6️⃣ [실행] Swagger / Mock-API 적용   
7️⃣ [실행] Mock API 작성 

## 리뷰 포인트

1. '상품 주문' 관련 시퀀스 다이어그램을 그리면서 궁금증이 생겼습니다.   
'재고확인', '쿠폰확인', '사용자 잔액확인' 이 세가지가 충족되어야 주문 -> 결제까지 가능한데 세가지의 순서를 어떻게 배치하느냐 고민.  
초반) 사용자 잔액확인 -> 재고확인 -> 쿠폰 Validation 체크 순으로 진행. (2ed53f73)
수정버전) 재고확인 -> 쿠폰Validation 체크  -> 사용자 잔액확인 순으로 작성. (cee1b738) 
변경하게 된 이유는 먼저 한 이유는 '동시성'을 생각하다 보니 재고확인이 먼저 필요하겠다라는 생각을 했습니다.
ERD 처음버전과, 수정 후 버전 중에 어떤 방향으로 하는게 옳은지 말씀해 주실 수 있으실까요.

2. @PathVariable과 @RequestBody를 같이쓰는경우, 한번에 @RequestBody에 사용하는지 궁금합니다.  
   RESTAPI URL 작성중에 고민이 되었습니다. 


## Definition of Done (DoD)

- [x] 과제 분석을 위하여 UML 작성 완료 (시나리오, 시퀀스 다이어그램, ERD)  
- [x] 이커머스 서비스의 주요기능 Mock API를 구현 완료.  
- [x] API 정의서를 더 시각적으로 보기 위하여 Swagger 적용 완료.   
- [x] Swagger를 이용하여 테스트 완료.  
- [ ] E2E TEST 진행 (이후 주말에 진행예정) - TestTemplate 사용